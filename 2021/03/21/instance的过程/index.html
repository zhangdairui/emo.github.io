<html>
<head>
    <meta charset="UTF-8">
    <title>Anywheredoor</title>
    <link rel="icon" href="/pic/titleicon.png" sizes="32x32">
    <meta name=“viewport” content=“width=device-width; initial-scale=1.0”>
    <link rel="stylesheet" href="/css/index.css"/>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<meta name="generator" content="Hexo 5.1.1"><link rel="alternate" href="/atom.xml" title="Anywheredoor" type="application/atom+xml">
</head>

<body>
      

<div class="hello">
  <h1>どこでもドア</h1>
</div>

<section>
  <div class="door">
    <a  class="indoor" href="" > <img src="/pic/door/door1.png" /></a>
  </div>
</section>

<nav>
        

<ul id="menu">
    <!-- 内部链接本页面直接跳转 -->
    
    <li class="menu-item">
        <a href="/" class="menu-item-link">主页</a>
    </li>
    
    <li class="menu-item">
        <a href="/about" class="menu-item-link">关于</a>
    </li>
    
    <li class="menu-item">
        <a href="/tags" class="menu-item-link">分类</a>
    </li>
    
    <li class="menu-item">
        <a href="/comment" class="menu-item-link">留言板</a>
    </li>
    

    <!-- 外部链接打开新的窗口跳转 -->
    

</ul>

</nav>

      <div class="aline"></div>
      <div class="container">

          
            <section class="main">
          

          <!-- 每页文章 -->
<div class="post_info">
    <div class="post_title">
      <span>将JAVAcode部署到EC2 instance的过程</span>
    </div>

    <div class="post_auther_date_tag">
      <span id="post-author">@emo</span>
      <span id="post-date">2021-03-21 16:42:48</span>
      #<a class="tag-link-link" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">服务器</a>
    </div>

</div>

<div class="article_content">
    <h1 id="将JAVAcode部署到EC2-instance的过程"><a href="#将JAVAcode部署到EC2-instance的过程" class="headerlink" title="将JAVAcode部署到EC2 instance的过程"></a>将JAVAcode部署到EC2 instance的过程</h1><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><ul>
<li>Java code：利用了AWS recognition的图像识别程序。</li>
<li>本地环境：安装了AWS开发套装的Eclipse</li>
<li>Amazon账号：学生账号，每次从classroom的主页面可以获取access key token id等身份认证信息</li>
<li>EC2 instance类型：t2.micro, Amazon Linux。从本地通过终端SSH连接</li>
<li>目的：将本地的java项目部署到instance上，通过SSH运行jar程序。</li>
</ul>
<h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h3><h5 id="第一步"><a href="#第一步" class="headerlink" title="第一步"></a>第一步</h5><p>配置EC2的环境。注意JDK版本要和自己本地开发时候用的一致</p>
<p><code>sudo yum install java-1.8.0-openjdk</code></p>
<p>然后运行java -version检查一下。<br>如果想要升级的话<code>sudo yum update</code></p>
<h5 id="第二步"><a href="#第二步" class="headerlink" title="第二步"></a>第二步</h5><p>把本地的javacode打包成可执行jar文件。将这个文件放到instance中。（我用了FileZilla，利用FileZilla连接amazon EC2的，需要先导入pem文件。<a target="_blank" rel="noopener" href="https://blog.csdn.net/michael1112/article/details/52537961">教程看这篇</a>）</p>
<h5 id="第三步"><a href="#第三步" class="headerlink" title="第三步"></a>第三步</h5><p>复制好自己账号的各种key，通过终端在自己的instance里逐一运行：</p>
<p><code>export AWS_ACCESS_KEY_ID=&lt;自己的id&gt;</code></p>
<p><code>export AWS_SECRET_ACCESS_KEY=&lt;自己的key&gt;</code></p>
<p><code>export AWS_SESSION_TOKEN=&lt;自己的token&gt;</code></p>
<p>这样就设置好了认证信息。<br>注意：在本地的时候，认证信息储存于~/.aws/credential文件里。但是在instance中我们可以这样去设置。</p>
<p>同时因为学生账号的access key每三小时就更新一次，所以每当三小时过去了要记得手动export</p>
<h5 id="第四步"><a href="#第四步" class="headerlink" title="第四步"></a>第四步</h5><p>直接运行：<code>java -jar 你的jar文件.jar</code></p>
<p>就可以开始跑这个程序了。</p>
<p><img src="https://i.loli.net/2021/03/21/rKOMalgjCyTU48B.png" alt="rKOMalgjCyTU48B"></p>

</div>

          </section>
      </div>

</body>

<div class="footerbox">
  <div class="footerejs">
    <footer>
  <div class="footer">
    Copyright &copy; 2021 emo
  </div>

  <div class="count">

  </div>
</footer>

  </div>
  <div class="count">
    <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
  </div>

</div>
</html>
